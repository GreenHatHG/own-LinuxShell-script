{
    "log": { "level": "error", "timestamp": true },
    "experimental": {
        "clash_api": {
            "external_controller": "0.0.0.0:9999",
            "external_ui": "ui",
            "external_ui_download_url": "https://ghproxy.net/https://github.com/MetaCubeX/Yacd-meta/archive/refs/heads/gh-pages.zip",
            "external_ui_download_detour": "DIRECT",
            "default_mode": "rule"
        },
        "cache_file": {
            "enabled": true,
            "store_fakeip": true
        }
    },
    "dns": {
        "servers": [
          {
            "tag": "dns_block",
            "address": "rcode://success"
          },
          {
            "tag": "dns_direct",
            "address": [
                "h3://223.5.5.5/dns-query",
                "https://1.12.12.12/dns-query"
            ],
            "address_resolver": "dns_resolver",
            "strategy": "ipv4_only",
            "detour": "DIRECT"
          },
          {
            "tag": "dns_proxy",
            "address": [
              "h3://dns.google/dns-query",
              "https://1.1.1.1/dns-query"
            ],
            "address_resolver": "dns_resolver",
            "strategy": "ipv4_only",
            "detour": "ğŸˆ¯ èŠ‚ç‚¹æŒ‡å®š"
          },
          {
            "tag": "dns_resolver",
            "address": "223.5.5.5",
            "strategy": "ipv4_only",
            "detour": "DIRECT"
          },
          {
            "tag": "dns_fakeip",
            "address": "fakeip"
          }
        ],
         "rules": [ 
          { "outbound": "any", "server": "dns_direct" },
          { "clash_mode": "Direct", "query_type": [ "A", "AAAA" ], "server": "dns_direct" },
          { "clash_mode": "Global", "query_type": [ "A", "AAAA" ], "server": "dns_proxy" },
          { "rule_set": [ "ads" ], "server": "dns_block" },
          { "rule_set": [ "proxy" ], "query_type": [ "A", "AAAA" ], "server": "dns_fakeip", "rewrite_ttl": 0 },
          { "rule_set": [ "cn" ], "query_type": [ "A", "AAAA" ], "server": "dns_direct" },
          { "fallback_rules": [ { "rule_set": [ "cnip" ], "server": "dns_direct" }, { "match_all": true, "server": "dns_fakeip", "rewrite_ttl": 0 } ], "allow_fallthrough": true, "server": "dns_proxy" }
        ],
        "final": "dns_direct",
        "strategy": "ipv4_only",
        "independent_cache": true,
        "lazy_cache": true,
        "reverse_mapping": true,
        "mapping_override": true,
        "fakeip": { "enabled": true, "inet4_range": "198.18.0.0/15", "inet6_range": "fc00::/18" }
    },    
    "ntp": {
      "enabled": true,
      "server": "time.apple.com",
      "server_port": 123,
      "interval": "30m",
      "detour": "DIRECT"
    },
    "inbounds": [
      {
        "type": "mixed",
        "listen": "::",
        "listen_port": 7890,
        "sniff": true,
        "sniff_override_destination": false
      },
      {
        "type": "direct",
        "tag": "dns-in",
        "listen": "::",				
        "listen_port": 7891,	      
        "network": "udp"	
      }
  
    ],
    "outbounds": [
        {
            "tag": "ğŸˆ¯ èŠ‚ç‚¹æŒ‡å®š",
            "type": "selector",
            "outbounds": [
                "ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹",
                "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹",
                "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹",
                "ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹",
                "ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹",
                "å…¶ä»–"
            ],
            "interrupt_exist_connections": true
        },
        {
            "tag": "ğŸ“ˆ ç½‘ç»œæµ‹è¯•",
            "type": "selector",
            "outbounds": [
                "ğŸ¯ å…¨çƒç›´è¿",
                "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹",
                "ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹",
                "ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹",
                "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹",
                "ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹",
                "å…¶ä»–"
            ],
            "interrupt_exist_connections": true
        },
        {
            "tag": "ğŸ¤– äººå·¥æ™ºèƒ½",
            "type": "selector",
            "outbounds": [
                "ğŸˆ¯ èŠ‚ç‚¹æŒ‡å®š",
                "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹",
                "ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹",
                "ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹",
                "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹",
                "ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹",
                "å…¶ä»–"
            ],
            "interrupt_exist_connections": true
        },
        {
            "tag": "ğŸ® æ¸¸æˆæœåŠ¡",
            "type": "selector",
            "outbounds": [
                "ğŸ¯ å…¨çƒç›´è¿",
                "ğŸˆ¯ èŠ‚ç‚¹æŒ‡å®š"
            ],
            "interrupt_exist_connections": true
        },
        {
            "tag": "â“‚ï¸ å¾®è½¯æœåŠ¡",
            "type": "selector",
            "outbounds": [
                "ğŸˆ¯ èŠ‚ç‚¹æŒ‡å®š",
                "ğŸ¯ å…¨çƒç›´è¿"
            ],
            "interrupt_exist_connections": true
        },
        {
            "tag": "ğŸ‡¬ è°·æ­ŒæœåŠ¡",
            "type": "selector",
            "outbounds": [
                "ğŸˆ¯ èŠ‚ç‚¹æŒ‡å®š",
                "ğŸ¯ å…¨çƒç›´è¿"
            ],
            "interrupt_exist_connections": true
        },
        {
            "tag": "ğŸ è‹¹æœæœåŠ¡",
            "type": "selector",
            "outbounds": [
                "ğŸˆ¯ èŠ‚ç‚¹æŒ‡å®š",
                "ğŸ¯ å…¨çƒç›´è¿" 
            ],
            "interrupt_exist_connections": true
        },
        {
            "tag": "ğŸ‡¨ğŸ‡³ ç›´è¿åŸŸå",
            "type": "selector",
            "outbounds": [
                "ğŸ¯ å…¨çƒç›´è¿",
                "ğŸˆ¯ èŠ‚ç‚¹æŒ‡å®š"
            ],
            "interrupt_exist_connections": true
        },
        {
            "tag": "ğŸ‡¨ğŸ‡³ ç›´è¿ IP",
            "type": "selector",
            "outbounds": [
                "ğŸ¯ å…¨çƒç›´è¿",
                "ğŸˆ¯ èŠ‚ç‚¹æŒ‡å®š"
            ],
            "interrupt_exist_connections": true
        },
        {
            "tag": "ğŸªœ ä»£ç†åŸŸå",
            "type": "selector",
            "outbounds": [
                "ğŸˆ¯ èŠ‚ç‚¹æŒ‡å®š",
                "ğŸ¯ å…¨çƒç›´è¿"
            ],
            "interrupt_exist_connections": true
        },
        {
            "tag": "ğŸ“² ç”µæŠ¥æ¶ˆæ¯",
            "type": "selector",
            "outbounds": [
                "ğŸˆ¯ èŠ‚ç‚¹æŒ‡å®š"
            ],
            "interrupt_exist_connections": true
        },
        {
            "tag": "ğŸ”’ ç§æœ‰ç½‘ç»œ",
            "type": "selector",
            "outbounds": [
                "ğŸ¯ å…¨çƒç›´è¿"
            ],
            "interrupt_exist_connections": true
        },
        {
            "tag": "ğŸ›‘ å¹¿å‘Šæ‹¦æˆª",
            "type": "selector",
            "outbounds": [
                "REJECT"
            ],
            "interrupt_exist_connections": true
        },
        {
            "tag": "ğŸ¯ å…¨çƒç›´è¿",
            "type": "selector",
            "outbounds": [
                "DIRECT"
            ],
            "interrupt_exist_connections": true
        },
        {
            "tag": "REJECT",
            "type": "block"
        },
        {
            "tag": "DIRECT",
            "type": "direct"
        },
        {
            "tag": "GLOBAL",
            "type": "selector",
            "outbounds": [
                "DIRECT",
                "REJECT",
                "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹",
                "ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹",
                "ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹",
                "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹",
                "ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹",
                "å…¶ä»–"
            ],
            "interrupt_exist_connections": true
        },
        {
            "tag": "dns-out",
            "type": "dns"
        },
        {
            "tag": "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹",
            "type": "urltest",
            "tolerance": 2000,
            "interval": "10m",
            "use_all_providers": true,
            "includes": ["ğŸ‡­ğŸ‡°|HK|hk|é¦™æ¸¯|æ¸¯|HongKong"],
            "interrupt_exist_connections": true
        },
        {
            "tag": "ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹",
            "type": "urltest",
            "tolerance": 2000,
            "interval": "10m",
            "use_all_providers": true,
            "includes": ["ğŸ‡¹ğŸ‡¼|TW|tw|å°æ¹¾|è‡ºç£|å°|Taiwan"],
            "interrupt_exist_connections": true
        },
        {
            "tag": "ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹",
            "type": "urltest",
            "tolerance": 2000,
            "interval": "10m",
            "use_all_providers": true,
            "includes": ["ğŸ‡¯ğŸ‡µ|JP|jp|æ—¥æœ¬|æ—¥|Japan"],
            "interrupt_exist_connections": true
        },
        {
            "tag": "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹",
            "type": "urltest",
            "tolerance": 2000,
            "interval": "10m",
            "use_all_providers": true,
            "includes": ["ğŸ‡¸ğŸ‡¬|SG|sg|æ–°åŠ å¡|ç‹®|Singapore"],
            "interrupt_exist_connections": true
        },
        {
            "tag": "ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹",
            "type": "urltest",
            "tolerance": 2000,
            "interval": "10m",
            "use_all_providers": true,
            "includes": ["ğŸ‡ºğŸ‡¸|US|us|ç¾å›½|ç¾|United States"],
            "interrupt_exist_connections": true
        },
        {
            "tag": "å…¶ä»–",
            "type": "urltest",
            "tolerance": 2000,
            "interval": "10m",
            "use_all_providers": true,
            "excludes": "ğŸ‡­ğŸ‡°|HK|hk|é¦™æ¸¯|é¦™|ğŸ‡¹ğŸ‡¼|TW|tw|å°æ¹¾|å°|ğŸ‡¸ğŸ‡¬|SG|sg|æ–°åŠ å¡|ç‹®|ğŸ‡¯ğŸ‡µ|JP|jp|æ—¥æœ¬|æ—¥|ğŸ‡ºğŸ‡¸|US|us|ç¾å›½|ç¾|ç½‘ç«™|å‰©ä½™|æµé‡|è¿‡æœŸ|æ—¶é—´|æœŸ|åœ°å€|æ›´æ–°è®¢é˜…",
            "interrupt_exist_connections": true
        }
    ],
    "outbound_providers": [{
        "tag": "ğŸ›« æˆ‘çš„æœºåœº",
        "type": "remote",
        "download_url": "https://example.com/xxx/xxx&flag=meta&types=all",
        "path": "./airport.yaml",   
        "download_interval": "2h",
        "download_ua": "clash.meta",
        "healthcheck_url": "https://www.gstatic.com/generate_204",
        "healthcheck_interval": "10m"
    }],
    "route": {
        "final": "ğŸˆ¯ èŠ‚ç‚¹æŒ‡å®š",
        "rules": [
            {
                "inbound": "dns-in",
                "outbound": "dns-out"
            },            
            {
                "protocol": [
                    "dns"
                ],
                "outbound": "dns-out"
            },
            {
                "clash_mode": "Direct",
                "outbound": "DIRECT"
            },
            {
                "clash_mode": "Global",
                "outbound": "GLOBAL"
            },
            {
                "rule_set": [
                    "ads"
                ],
                "outbound": "ğŸ›‘ å¹¿å‘Šæ‹¦æˆª"
            },
            {
                "rule_set": [
                    "private"
                ],
                "outbound": "ğŸ”’ ç§æœ‰ç½‘ç»œ"
            },
            {
              "domain": [
                "dl.google.com"
              ],
              "outbound": "DIRECT"
            },
            {
                "rule_set": [
                    "microsoft-cn"
                ],
                "outbound": "â“‚ï¸ å¾®è½¯æœåŠ¡"
            },
            {
                "rule_set": [
                    "apple-cn"
                ],
                "outbound": "ğŸ è‹¹æœæœåŠ¡"
            },
            {
                "rule_set": [
                    "google-cn"
                ],
                "outbound": "ğŸ‡¬ è°·æ­ŒæœåŠ¡"
            },
            {
                "rule_set": [
                    "games-cn"
                ],
                "outbound": "ğŸ® æ¸¸æˆæœåŠ¡"
            },
            {
                "rule_set": [
                    "ai"
                ],
                "outbound": "ğŸ¤– äººå·¥æ™ºèƒ½"
            },
            {
                "rule_set": [
                    "networktest"
                ],
                "outbound": "ğŸ“ˆ ç½‘ç»œæµ‹è¯•"
            },
            {
                "rule_set": [
                    "proxy"
                ],
                "outbound": "ğŸªœ ä»£ç†åŸŸå"
            },
            {
                "rule_set": [
                    "cn"
                ],
                "outbound": "ğŸ‡¨ğŸ‡³ ç›´è¿åŸŸå"
            },
            { "rule_set": [ "telegramip" ], "outbound": "ğŸ“² ç”µæŠ¥æ¶ˆæ¯", "skip_resolve": true },
            { "rule_set": [ "privateip" ], "outbound": "ğŸ”’ ç§æœ‰ç½‘ç»œ", "skip_resolve": true },
            {
                "rule_set": [
                    "cnip"
                ],
                "outbound": "ğŸ‡¨ğŸ‡³ ç›´è¿ IP"
            }
        ],
        "rule_set": [
            {
                "tag": "fakeip-filter",
                "type": "remote",
                "format": "binary",
                "url": "https://ghproxy.net/https://raw.githubusercontent.com/DustinWin/ruleset_geodata/sing-box-ruleset/fakeip-filter.srs",
                "download_detour": "DIRECT",
                "update_interval": "3d"
            },
            {
                "tag": "ads",
                "type": "remote",
                "format": "binary",
                "url": "https://ghproxy.net/https://raw.githubusercontent.com/DustinWin/ruleset_geodata/sing-box-ruleset/ads.srs",
                "download_detour": "DIRECT",
                "update_interval": "3d"
            },
            {
                "tag": "private",
                "type": "remote",
                "format": "binary",
                "url": "https://ghproxy.net/https://raw.githubusercontent.com/DustinWin/ruleset_geodata/sing-box-ruleset/private.srs",
                "download_detour": "DIRECT",
                "update_interval": "3d"
            },
            {
                "tag": "microsoft-cn",
                "type": "remote",
                "format": "binary",
                "url": "https://ghproxy.net/https://raw.githubusercontent.com/DustinWin/ruleset_geodata/sing-box-ruleset/microsoft-cn.srs",
                "download_detour": "DIRECT",
                "update_interval": "3d"
            },
            {
                "tag": "apple-cn",
                "type": "remote",
                "format": "binary",
                "url": "https://ghproxy.net/https://raw.githubusercontent.com/DustinWin/ruleset_geodata/sing-box-ruleset/apple-cn.srs",
                "download_detour": "DIRECT",
                "update_interval": "3d"
            },
            {
                "tag": "google-cn",
                "type": "remote",
                "format": "binary",
                "url": "https://ghproxy.net/https://raw.githubusercontent.com/DustinWin/ruleset_geodata/sing-box-ruleset/google-cn.srs",
                "download_detour": "DIRECT",
                "update_interval": "3d"
            },
            {
                "tag": "games-cn",
                "type": "remote",
                "format": "binary",
                "url": "https://ghproxy.net/https://raw.githubusercontent.com/DustinWin/ruleset_geodata/sing-box-ruleset/games-cn.srs",
                "download_detour": "DIRECT",
                "update_interval": "3d"
            },
            {
                "tag": "ai",
                "type": "remote",
                "format": "binary",
                "url": "https://ghproxy.net/https://raw.githubusercontent.com/DustinWin/ruleset_geodata/sing-box-ruleset/ai.srs",
                "download_detour": "DIRECT",
                "update_interval": "3d"
            },
            {
                "tag": "networktest",
                "type": "remote",
                "format": "binary",
                "url": "https://ghproxy.net/https://raw.githubusercontent.com/DustinWin/ruleset_geodata/sing-box-ruleset/networktest.srs",
                "download_detour": "DIRECT",
                "update_interval": "3d"
            },
            {
                "tag": "proxy",
                "type": "remote",
                "format": "binary",
                "url": "https://ghproxy.net/https://raw.githubusercontent.com/DustinWin/ruleset_geodata/sing-box-ruleset/proxy.srs",
                "download_detour": "DIRECT",
                "update_interval": "3d"
            },
            {
                "tag": "cn",
                "type": "remote",
                "format": "binary",
                "url": "https://ghproxy.net/https://raw.githubusercontent.com/DustinWin/ruleset_geodata/sing-box-ruleset/cn.srs",
                "download_detour": "DIRECT",
                "update_interval": "3d"
            },
            {
                "tag": "telegramip",
                "type": "remote",
                "format": "binary",
                "url": "https://ghproxy.net/https://raw.githubusercontent.com/DustinWin/ruleset_geodata/sing-box-ruleset/telegramip.srs",
                "download_detour": "DIRECT",
                "update_interval": "3d"
            },
            {
                "tag": "privateip",
                "type": "remote",
                "format": "binary",
                "url": "https://ghproxy.net/https://raw.githubusercontent.com/DustinWin/ruleset_geodata/sing-box-ruleset/privateip.srs",
                "download_detour": "DIRECT",
                "update_interval": "3d"
            },
            {
                "tag": "cnip",
                "type": "remote",
                "format": "binary",
                "url": "https://ghproxy.net/https://raw.githubusercontent.com/DustinWin/ruleset_geodata/sing-box-ruleset/cnip.srs",
                "download_detour": "DIRECT",
                "update_interval": "3d"
            }
        ]
    }
  }
